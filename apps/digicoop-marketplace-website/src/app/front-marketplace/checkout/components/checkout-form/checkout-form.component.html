
<!-- Action Panel: Login -->
<div class="rounded-2xl border border-[#3b5445] bg-[#1a2e22]/50 p-1 mb-8">
  <div class="flex flex-col sm:flex-row items-center justify-between gap-4 rounded-xl bg-[#111814] p-5 border border-[#28392f] relative overflow-hidden group">
    <div class="absolute right-0 top-0 h-full w-1 bg-primary opacity-50"></div>
    <div class="flex flex-col gap-1 z-10">
      <p class="text-white text-base font-bold flex items-center gap-2">
        <span class="material-symbols-outlined text-primary">account_circle</span>
        Déjà client ?
      </p>
      <p class="text-[#9db9a8] text-sm">Connectez-vous pour pré-remplir vos informations et gagner du temps.</p>
    </div>
    <a routerLink="/login" class="w-full sm:w-auto px-6 py-2.5 bg-secondary/30 hover:bg-primary hover:text-background-dark text-primary border border-secondary/50 rounded-full text-sm font-bold transition-all duration-300 z-10 whitespace-nowrap text-center cursor-pointer">
      Se connecter
    </a>
  </div>
</div>

<form class="flex flex-col gap-8">
  <!-- Contact Info -->
  <section>
    <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
      <span class="size-2 rounded-full bg-primary"></span>
      Contact
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="relative group">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="email" placeholder="Email" type="email" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="email">Adresse e-mail</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="phone" placeholder="Téléphone" type="tel" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="phone">Numéro de téléphone</label>
      </div>
    </div>
  </section>

  <!-- Address Info -->
  <section>
    <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
      <span class="size-2 rounded-full bg-primary"></span>
      Adresse de livraison
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="md:col-span-2 relative">
        <select class="block w-full px-5 py-4 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary appearance-none cursor-pointer" id="country">
          <option value="CI">Côte d'Ivoire</option>
          <option value="SN">Sénégal</option>
          <option value="FR">France</option>
          <option value="BE">Belgique</option>
          <option value="CH">Suisse</option>
          <option value="CA">Canada</option>
          <option value="US">États-Unis</option>
          <option value="CM">Cameroun</option>
          <option value="ML">Mali</option>
          <option value="BF">Burkina Faso</option>
          <option value="MA">Maroc</option>
          <option value="OTHER">Autre pays...</option>
        </select>
        <label class="absolute text-xs text-[#9db9a8] top-2 left-5" for="country">Pays</label>
        <span class="material-symbols-outlined absolute right-5 top-1/2 -translate-y-1/2 text-[#9db9a8] pointer-events-none">expand_more</span>
      </div>

      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="firstname" placeholder="Prénom" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="firstname">Prénom</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="lastname" placeholder="Nom" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="lastname">Nom</label>
      </div>
      <div class="md:col-span-2 relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="company" placeholder="Entreprise" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="company">Entreprise (Optionnel)</label>
      </div>
      <div class="md:col-span-2 relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="address" placeholder="Adresse" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="address">Adresse</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="zipcode" placeholder="Code Postal" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="zipcode">Code Postal</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="city" placeholder="Ville" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="city">Ville</label>
      </div>
    </div>
  </section>

  <!-- Billing Toggle -->
  <div class="flex items-start gap-4 p-5 rounded-2xl bg-[#1a2e22]/50 border border-[#28392f]">
    <div class="relative inline-flex items-center cursor-pointer">
      <input type="checkbox" [checked]="sameBillingAddress()" (change)="toggleBillingAddress($event)" class="sr-only peer" />
      <div class="w-11 h-6 bg-gray-700 rounded-full peer peer-focus:ring-2 peer-focus:ring-primary/50 dark:peer-focus:ring-primary/30 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
    </div>
    <div>
      <span class="text-white font-medium block">L'adresse de facturation est identique</span>
      <span class="text-[#9db9a8] text-sm block mt-1">Décocher pour saisir une adresse différente.</span>
    </div>
  </div>

  <!-- Billing Address Form (Conditional) -->
  <section *ngIf="!sameBillingAddress()" class="animate-in fade-in slide-in-from-top-4 duration-300">
    <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
      <span class="size-2 rounded-full bg-primary"></span>
      Adresse de facturation
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
       <!-- Replicating address fields for billing -->
       <div class="md:col-span-2 relative">
        <select class="block w-full px-5 py-4 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary appearance-none cursor-pointer" id="billing_country">
          <option value="CI">Côte d'Ivoire</option>
          <option value="SN">Sénégal</option>
          <option value="FR">France</option>
          <option value="OTHER">Autre pays...</option>
        </select>
        <label class="absolute text-xs text-[#9db9a8] top-2 left-5" for="billing_country">Pays</label>
        <span class="material-symbols-outlined absolute right-5 top-1/2 -translate-y-1/2 text-[#9db9a8] pointer-events-none">expand_more</span>
      </div>

      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="billing_firstname" placeholder="Prénom" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="billing_firstname">Prénom</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="billing_lastname" placeholder="Nom" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="billing_lastname">Nom</label>
      </div>
      <div class="md:col-span-2 relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="billing_address" placeholder="Adresse" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="billing_address">Adresse</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="billing_zipcode" placeholder="Code Postal" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="billing_zipcode">Code Postal</label>
      </div>
      <div class="relative">
        <input class="floating-input block w-full px-5 pt-6 pb-2 text-white bg-[#1a2e22] border-2 border-transparent rounded-2xl focus:outline-none focus:ring-0 focus:border-primary peer placeholder-transparent transition-all" id="billing_city" placeholder="Ville" type="text" />
        <label class="floating-label absolute text-sm text-[#9db9a8] duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-5 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-primary pointer-events-none" for="billing_city">Ville</label>
      </div>
    </div>
  </section>

  <!-- Action Bar Mobile -->
  <div class="lg:hidden mt-4">
    <button class="w-full h-14 bg-primary hover:bg-[#0fd65f] text-background-dark text-lg font-bold rounded-full flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary/20">
      <span>Continuer vers le paiement</span>
      <span class="material-symbols-outlined">arrow_forward</span>
    </button>
  </div>
</form>
